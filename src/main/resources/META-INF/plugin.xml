<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <!-- Unique identifier of the plugin. It should be FQN. It cannot be changed between the plugin versions. -->
    <id>app.arteh.StartupBuilder</id>

    <!-- Public plugin name should be written in Title Case.
         Guidelines: https://plugins.jetbrains.com/docs/marketplace/plugin-overview-page.html#plugin-name -->
    <name>StartupBuilder</name>

    <!-- A displayed Vendor name or Organization ID displayed on the Plugins Page. -->
    <vendor url="https://www.arteh.app">Arteh</vendor>

    <!-- Description of the plugin displayed on the Plugin Page and IDE Plugin Manager.
         Guidelines: https://plugins.jetbrains.com/docs/marketplace/plugin-overview-page.html#plugin-description -->
    <description><![CDATA[
<b>StartupBuilder</b> automatically builds and updates your project as soon as it opens in Android Studio and IntelliJ IDEA.<br><br>

<h3>Features:</h3><br>
â€¢ ğŸ”„ Automatically triggers project build on startup<br>
â€¢ ğŸ§± Performs Git Fetch & Merge/Rebase after build<br>
â€¢ ğŸ”” Plays a notification sound when finished (can be disabled in settings)<br>
â€¢ âš™ï¸ Fully configurable via <i>Settings â†’ Other Settings â†’ StartupBuilder</i><br>
â€¢ ğŸ“ Dedicated <b>Protobuf Tool Window</b> with a <b>Build button for each module</b><br><br>

<h3>How It Works</h3><br>
1) When you open Android Studio, Gradle starts importing the project.<br>
2) If the import is successful, the plugin automatically runs Gradle.rebuildAllModules
(the same task that runs when you press Build or Run for the first time).<br>
3) Depending on your selected setting â€” None, Merge, or Rebase â€” the plugin:<br>
A) Fetches the latest Git changes<br>
B) Applies the selected action<br>
4) If something goes wrong (no internet, merge conflict, or uncommitted changes), a notification is shown.<br>
5) Finally, the plugin tries to assembleDebug the project.

<br>You can check build time and reports in Android Studio.<br>

<h3> â˜• Why I Built This Plugin</h3>
The very first successful build in Android Studio takes a long time.
With this plugin, you can sit back and enjoy a coffee â˜• while everything runs automatically.

<br>For faster builds in Android Studio, add the following lines to your gradle.properties file:<br>
org.gradle.configuration-cache = true
org.gradle.caching = true
<br>
Also make sure to enable Gradleâ€™s parallel sync in the settings(all of them).<br>

<h3>Protobuf ToolWindow</h3><br>

This plugin also adds a Tool Window (left-side panel) in Android Studio that lists all your .proto files, grouped by module.<br>
Each module includes buttons for Build, Add New File, Paste File, and Refresh.<br>
<br>
Whenever you make changes to your protobuf files, you must use the Build button to regenerate the code based on your updated .proto definitions.<br>
Note that this Build button only regenerates code for protobuf filesâ€”it does not run a full project build.<br>
<br>
<a href="https://github.com/khordady/startupbuilder">GitHub Repository</a><br>
DM Me on LinkedIn: <a href="https://www.linkedin.com/in/aliforootanseresht/">LinkedIn</a><br>
]]></description>

    <depends>com.intellij.modules.platform</depends>
    <depends>Git4Idea</depends>
    <depends optional="true" config-file="withAndroid.xml">org.jetbrains.android</depends>
    <depends>org.jetbrains.plugins.gradle</depends>

    <extensions defaultExtensionNs="com.intellij">
        <applicationConfigurable instance="app.arteh.startupbuilder.settings.AutoBuildSettingsConfigurable"/>
        <postStartupActivity implementation="app.arteh.startupbuilder.intellij.AutoBuildStartupActivity"/>
        <notificationGroup id="Startup Buildr" displayType="BALLOON"/>
    </extensions>
</idea-plugin>